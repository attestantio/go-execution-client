// Copyright Â© 2022 Attestant Limited.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

package spec_test

import (
	"encoding/json"
	"testing"

	"github.com/attestantio/go-execution-client/spec"
	"github.com/stretchr/testify/require"
)

func TestLondonTransactionReceiptJSON(t *testing.T) {
	tests := []struct {
		name     string
		input    []byte
		expected []byte
		err      string
	}{
		{
			name: "Empty",
			err:  "unexpected end of JSON input",
		},
		{
			name:  "JSONBad",
			input: []byte("[]"),
			err:   "invalid JSON: json: cannot unmarshal array into Go value of type spec.londonTransactionReceiptJSON",
		},
		{
			name:  "BlockHashMissing",
			input: []byte(`{"blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "block hash missing",
		},
		{
			name:  "BlockHashWrongType",
			input: []byte(`{"blockHash":true,"blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.blockHash of type string",
		},
		{
			name:  "BlockHashInvalid",
			input: []byte(`{"blockHash":"true","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "block hash invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "BlockNumberMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "block number missing",
		},
		{
			name:  "BlockNumberWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":true,"contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.blockNumber of type string",
		},
		{
			name:  "BlockNumberInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"true","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "block number invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "ContractAddressWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":true,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.contractAddress of type string",
		},
		{
			name:  "ContractAddressInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":"true","cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "contract address invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "CumulativeGasUsedMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "cumulative gas used missing",
		},
		{
			name:  "CumulativeGasUsedWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":true,"effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.cumulativeGasUsed of type string",
		},
		{
			name:  "CumulativeGasUsedInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"true","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "cumulative gas used invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "EffectiveGasPriceMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "effective gas price missing",
		},
		{
			name:  "EffectiveGasPriceWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":true,"from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.effectiveGasPrice of type string",
		},
		{
			name:  "EffectiveGasPriceInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"true","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "effective gas price invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "FromMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "from missing",
		},
		{
			name:  "FromWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":true,"gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.from of type string",
		},
		{
			name:  "FromInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"true","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "from invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "GasUsedMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "gas used missing",
		},
		{
			name:  "GasUsedWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":true,"logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.gasUsed of type string",
		},
		{
			name:  "GasUsedInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"true","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "gas used invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "LogsWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":true,"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.logs of type []*spec.BerlinTransactionEvent",
		},
		{
			name:  "LogsInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[true],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: invalid JSON: json: cannot unmarshal bool into Go value of type spec.berlinTransactionEventJSON",
		},
		{
			name:  "LogsBloomMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "logs bloom missing",
		},
		{
			name:  "LogsBloomWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":true,"status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.logsBloom of type string",
		},
		{
			name:  "LogsBloomInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"true","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "logs bloom invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "StatusMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "status missing",
		},
		{
			name:  "StatusWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":true,"to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.status of type string",
		},
		{
			name:  "StatusInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"true","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "status invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "ToWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":true,"transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.to of type string",
		},
		{
			name:  "ToInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"true","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			err:   "to invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "TransactionHashMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionIndex":"0x9","type":"0x2"}`),
			err:   "transaction hash missing",
		},
		{
			name:  "TransactionHashWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":true,"transactionIndex":"0x9","type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.transactionHash of type string",
		},
		{
			name:  "TransactionHashInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"true","transactionIndex":"0x9","type":"0x2"}`),
			err:   "transaction hash invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "TransactionIndexMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","type":"0x2"}`),
			err:   "transaction index missing",
		},
		{
			name:  "TransactionIndexWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":true,"type":"0x2"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field londonTransactionReceiptJSON.transactionIndex of type string",
		},
		{
			name:  "TransactionIndexInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"true","type":"0x2"}`),
			err:   "transaction index invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "TypeMissing",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9"}`),
			err:   "transaction type unrecognised",
		},
		{
			name:  "TypeWrongType",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":true}`),
			err:   "invalid JSON: unrecognised transaction type true",
		},
		{
			name:  "TypeInvalid",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"true"}`),
			err:   "invalid JSON: unrecognised transaction type \"true\"",
		},
		{
			name:  "Good",
			input: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
		},
		{
			name:     "GoodMissingContractAddress",
			input:    []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
			expected: []byte(`{"blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","blockNumber":"0xdc5deb","contractAddress":null,"cumulativeGasUsed":"0x10b8b8","effectiveGasPrice":"0x40eb6e398","from":"0x3e74d7a29db9c136fff150ac61a3ff6e56818774","gasUsed":"0x168c0","logs":[{"address":"0x40875223d61a688954263892d0f76c94fd6b3d4a","topics":["0xc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62","0x0000000000000000000000000000000005756b5a03e751bd0280e3a55bc05b6e","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000000000"],"data":"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x13","removed":false},{"address":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x0000000000000000000000003e74d7a29db9c136fff150ac61a3ff6e56818774","0x0000000000000000000000000000000000000000000000000000000000003041"],"data":"0x","blockNumber":"0xdc5deb","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","blockHash":"0x8b3b6628fdc8861f23da314edd29d4ea88eea42b82fff6708a4be4b6ef87d296","logIndex":"0x14","removed":false}],"logsBloom":"0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400001000000000000008000000020000000000000000000000000080008000000000000000000000000000000000000000000000208000000000000000008000000000000000000000000900000000000000000000000000000000000000000000000000000000080000000000002000000000000000000000000000000000000000000000080000000000000000000000000020000000000000008000000000000000000080000028000000000200000000004000000000000000000000020000000000000000000000a0000000000","status":"0x1","to":"0x0000000005756b5a03e751bd0280e3a55bc05b6e","transactionHash":"0x27d0399f69000e21f2709cbba95582c0dbcab40cb71e4b3cab7ee8f6b1febfef","transactionIndex":"0x9","type":"0x2"}`),
		},
		{
			name:  "GoodContract",
			input: []byte(`{"blockHash":"0xd68db32cd0455dbec15676be35be8620ddf91b4ace7dc093edc292b0212bb75f","blockNumber":"0xdc42d1","contractAddress":"0x895197ac6cf7cbe43ddbfe0885ed3437d2e2c359","cumulativeGasUsed":"0x105b2a9","effectiveGasPrice":"0x5816765e6","from":"0x8cfbc5d5da912119d2cf4f7d37ba3c6dc1cf99b1","gasUsed":"0x1c2152","logs":[],"logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":null,"transactionHash":"0x4a92554b891568cf7dd6e4198d763a0f43f46fcb2153142268bfb49f3e6a3809","transactionIndex":"0xb3","type":"0x2"}`),
		},
	}

	for _, test := range tests {
		t.Run(test.name, func(t *testing.T) {
			var res spec.LondonTransactionReceipt
			err := json.Unmarshal(test.input, &res)
			if test.err != "" {
				require.EqualError(t, err, test.err)
			} else {
				require.NoError(t, err)
				rt, err := json.Marshal(&res)
				require.NoError(t, err)
				if len(test.expected) == 0 {
					require.Equal(t, string(test.input), string(rt))
					require.Equal(t, string(test.input), res.String())
				} else {
					require.Equal(t, string(test.expected), string(rt))
					require.Equal(t, string(test.expected), res.String())
				}
			}
		})
	}
}

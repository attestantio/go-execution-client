// Copyright Â© 2021, 2022 Attestant Limited.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

package spec_test

import (
	"encoding/json"
	"testing"

	"github.com/attestantio/go-execution-client/spec"
	"github.com/stretchr/testify/require"
)

func TestBerlinTransactionReceiptJSON(t *testing.T) {
	tests := []struct {
		name     string
		input    []byte
		expected []byte
		err      string
	}{
		{
			name: "Empty",
			err:  "unexpected end of JSON input",
		},
		{
			name:  "JSONBad",
			input: []byte("[]"),
			err:   "invalid JSON: json: cannot unmarshal array into Go value of type spec.berlinTransactionReceiptJSON",
		},
		{
			name:  "BlockHashMissing",
			input: []byte(`{"blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "block hash missing",
		},
		{
			name:  "BlockHashWrongType",
			input: []byte(`{"blockHash":true,"blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.blockHash of type string",
		},
		{
			name:  "BlockHashInvalid",
			input: []byte(`{"blockHash":"true","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "block hash invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "BlockNumberMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "block number missing",
		},
		{
			name:  "BlockNumberWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":true,"contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.blockNumber of type string",
		},
		{
			name:  "BlockNumberInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"true","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "block number invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "ContractAddressWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":true,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.contractAddress of type string",
		},
		{
			name:  "ContractAddressInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":"true","cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "contract address invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "CumulativeGasUsedMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "cumulative gas used missing",
		},
		{
			name:  "CumulativeGasUsedWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":true,"from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.cumulativeGasUsed of type string",
		},
		{
			name:  "CumulativeGasUsedInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"true","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "cumulative gas used invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "FromMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "from missing",
		},
		{
			name:  "FromWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":true,"gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.from of type string",
		},
		{
			name:  "FromInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"true","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "from invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "GasUsedMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "gas used missing",
		},
		{
			name:  "GasUsedWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":true,"logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.gasUsed of type string",
		},
		{
			name:  "GasUsedInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"true","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "gas used invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "LogsWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":true,"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.logs of type []*spec.BerlinTransactionEvent",
		},
		{
			name:  "LogsInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[true],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: invalid JSON: json: cannot unmarshal bool into Go value of type spec.berlinTransactionEventJSON",
		},
		{
			name:  "LogsBloomMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "logs bloom missing",
		},
		{
			name:  "LogsBloomWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":true,"status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.logsBloom of type string",
		},
		{
			name:  "LogsBloomInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"true","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "logs bloom invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "StatusMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "status missing",
		},
		{
			name:  "StatusWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":true,"to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.status of type string",
		},
		{
			name:  "StatusInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"true","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "status invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "ToWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":true,"transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.to of type string",
		},
		{
			name:  "ToInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"true","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "to invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "TransactionHashMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "transaction hash missing",
		},
		{
			name:  "TransactionHashWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":true,"transactionIndex":"0xa3","type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.transactionHash of type string",
		},
		{
			name:  "TransactionHashInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"true","transactionIndex":"0xa3","type":"0x0"}`),
			err:   "transaction hash invalid: encoding/hex: invalid byte: U+0074 't'",
		},
		{
			name:  "TransactionIndexMissing",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","type":"0x0"}`),
			err:   "transaction index missing",
		},
		{
			name:  "TransactionIndexWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":true,"type":"0x0"}`),
			err:   "invalid JSON: json: cannot unmarshal bool into Go struct field berlinTransactionReceiptJSON.transactionIndex of type string",
		},
		{
			name:  "TransactionIndexInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"true","type":"0x0"}`),
			err:   "transaction index invalid: strconv.ParseUint: parsing \"true\": invalid syntax",
		},
		{
			name:  "TypeWrongType",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":true}`),
			err:   "invalid JSON: unrecognised transaction type true",
		},
		{
			name:  "TypeInvalid",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"true"}`),
			err:   "invalid JSON: unrecognised transaction type \"true\"",
		},
		{
			name:  "Good",
			input: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
		},
		{
			name:     "GoodNullContract",
			input:    []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
			expected: []byte(`{"blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","blockNumber":"0xbebc34","contractAddress":null,"cumulativeGasUsed":"0xda468d","from":"0x61a9ab9016ef8aa514625864af5afe7f59cd1f40","gasUsed":"0xeb97","logs":[{"address":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000061a9ab9016ef8aa514625864af5afe7f59cd1f40","0x0000000000000000000000008df6084e3b84a65ab9dd2325b5422e5debd8944a"],"data":"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff","blockNumber":"0xbebc34","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","blockHash":"0xdd992c185b816040c3c5240fa914dd47d28e06d4745995f012a6a01abb7c431b","logIndex":"0x151","removed":false}],"logsBloom":"0x00000000000000000000000000000000000000000010000000000000000000000000400000000000000000000000000000000000000000000000000000200000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000800000000000000000000000000000000000010000000000000000000000020000000000200000000000000000000000000000000000000800000000000000000040000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000","status":"0x1","to":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","transactionHash":"0xcec6fba4176390c2493de7be43e5a347145930f2b787d15352c84dd70fb052b3","transactionIndex":"0xa3","type":"0x0"}`),
		},
		{
			name:  "GoodContract",
			input: []byte(`{"blockHash":"0x249ea54eada07708b29d7c424b8466dec9f1d98067b0be1b89c7ee660cca858d","blockNumber":"0xb542","contractAddress":"0x9a049f5d18c239efaa258af9f3e7002949a977a0","cumulativeGasUsed":"0x5dc0","from":"0xa1e4380a3b1f749673e270229993ee55f35663b4","gasUsed":"0x5dc0","logs":[],"logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","status":"0x0","to":null,"transactionHash":"0x6c929e1c3d860ee225d7f3a7addf9e3f740603d243260536dfa2f3cf02b51de4","transactionIndex":"0x0","type":"0x0"}`),
		},
	}

	for _, test := range tests {
		t.Run(test.name, func(t *testing.T) {
			var res spec.BerlinTransactionReceipt
			err := json.Unmarshal(test.input, &res)
			if test.err != "" {
				require.EqualError(t, err, test.err)
			} else {
				require.NoError(t, err)
				rt, err := json.Marshal(&res)
				require.NoError(t, err)
				if len(test.expected) == 0 {
					require.Equal(t, string(test.input), string(rt))
					require.Equal(t, string(test.input), res.String())
				} else {
					require.Equal(t, string(test.expected), string(rt))
					require.Equal(t, string(test.expected), res.String())
				}
			}
		})
	}
}
